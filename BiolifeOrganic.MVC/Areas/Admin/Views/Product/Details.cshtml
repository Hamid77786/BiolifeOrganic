@using BiolifeOrganic.Bll.ViewModels.Product
@model ProductViewModel

<div class="row">
    <div class="col-lg-6 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Product Details</h4>

                <div class="table-responsive">
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th>Image</th>
                                <th><img src="~/images/products/@Model.ImageUrl" width="300" height="300" /></th>
                            </tr>
                           
                            <tr>
                                <th>Name</th>
                                <td>@Model.Name</td>
                            </tr>

                            <tr>
                                <th>Original Price</th>
                                <td>@Model.OriginalPrice ₼</td>
                            </tr>

                            <tr>
                                <th>Discount (%)</th>
                                <td>@Model.DiscountPercent</td>
                            </tr>

                            

                            <tr>
                                <th>Stock</th>
                                <td>@Model.QuantityAvailable</td>
                            </tr>

                            <tr>
                                <th>Category</th>
                                <td>
                                    @Model.CategoryName
                                </td>
                            </tr>

                            <tr>
                                <th>Status</th>
                                <td>
                                    @if (Model.IsDeleted)
                                    {
                                        <span class="badge badge-danger">Deleted</span>
                                    }
                                    else if (Model.IsOnSale)
                                    {
                                        <span class="badge badge-warning">On Sale</span>
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th>Available</th>
                                <td>
                                    @if (Model.IsAvailable)
                                    {
                                        <span class="badge badge-success">Available</span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-secondary">Unavailable</span>
                                    }
                                </td>
                            </tr>
                                    
                               

                            <tr>
                                <th>Best Seller</th>
                                <td>
                                    @(Model.IsBestSeller ? "Yes" : "Not")
                                </td>
                            </tr>

                            <tr>
                                <th>Description</th>
                                <td>@(string.IsNullOrWhiteSpace(Model.Description) ? "Not writed" : Model.Description)</td>

                            </tr>

                            <tr>
                                <th>Additional Info</th>
                                <td>@(string.IsNullOrWhiteSpace(Model.AdditionalInformation) ? "Not writed" : Model.AdditionalInformation)</td>

                            </tr>
                            

                            <tr>
                                <th>Sale Period</th>
                                <td>
                                    @if (Model.SaleStartDate != null && Model.SaleEndDate != null)
                                    {
                                        <span>
                                            @Model.SaleStartDate.Value.ToString("dd.MM.yyyy")
                                            -
                                            @Model.SaleEndDate.Value.ToString("dd.MM.yyyy")
                                        </span>
                                    }
                                    else
                                    {
                                        <span>—</span>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

               
                @if (Model.ProductImages.Any())
                {
                    <hr />
                    <h5>Product Images</h5>
                    <div class="d-flex flex-wrap gap-2">
                        @foreach (var img in Model.ProductImages)
                        {
                            <img src="~/images/products/@img.ImageUrl"
                                 style="width:120px;height:120px;object-fit:cover"
                                 class="img-thumbnail" />
                        }
                    </div>
                }

            </div>
        </div>
    </div>
</div>
